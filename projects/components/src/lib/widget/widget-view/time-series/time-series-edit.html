<ng-container [formGroup]="form">
  <date-option formControlName="start" label="Start date"></date-option>

  <date-option formControlName="end" label="End date"></date-option>

  <button-toggle-group-option formControlName="group" label="Group"
                              [options]="groupOptions">
  </button-toggle-group-option>

  <div class="dataset"
       *ngFor="let dataset of datasetsFormArray.controls; let index = index"
       formArrayName="datasets">

    <dataset-option [formGroupName]="index"
                    [savedFiltererStates]="data.config.savedFiltererStates | async"
                    [dataResourcesMap]="data.config.dataResourcesMap"
                    (remove)="removeDataset(index)"
                    (duplicate)="duplicateDataset(dataset)"
                    (addAction)="addAction(dataset)">
    </dataset-option>
  </div>

  <button mat-button class="add-dataset" type="button" (click)="addDataset()">
    Add Series
  </button>

</ng-container>
