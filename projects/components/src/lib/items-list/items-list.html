<advanced-search [filterer]="filterer" [dataSource]="dataSource"
                 class="theme-border">
</advanced-search>
<div class="options">
  <div class="item-count theme-secondary-text"
       *ngIf="itemCount | async; let count">
    <ng-container *ngIf="count !== undefined && count !== null">
      {{count}} Results
    </ng-container>
  </div>
  <div class="item-count">
  </div>
  <display-options [grouper]="grouper" [sorter]="sorter" [viewer]="viewer">
  </display-options>
</div>

<div class="issues-container">
  <div class="item-group"
       *ngFor="let itemGroup of (renderState | async)?.groups; let index = index; trackBy:getItemGroupKey">
    <div class="title">
      {{itemGroup.title}}
    </div>

    <ng-container *ngFor="let item of itemGroup.items; trackBy:trackByIndex">
      <mat-divider></mat-divider>
      <div class="selectable-item theme-hover" mat-ripple
           [class.theme-background-hover]="activeItem === item"
           (click)="itemSelected.emit(item)">
        <item-summary [item]="item" [viewer]="viewer"></item-summary>
        <div class="active"
             [style.visibility]="activeItem === item ? 'visible' : 'hidden' ">
          <mat-icon> keyboard_arrow_right </mat-icon>
        </div>
      </div>
    </ng-container>
  </div>
</div>

<div *ngIf="!(renderState | async) || (hasMore | async)" class="loading-more">
  <mat-spinner diameter="48"></mat-spinner>
</div>
