<header-content name="Database"></header-content>

<div class="title"> {{activeRepository | async}} </div>

<load-data (loading)="isLoading = $event"
           *ngIf="!(isLoaded | async)">
</load-data>

<ng-container *ngIf="isLoaded | async">
  <div class="type theme-border theme-background-card">
    <div class="type-title">
      <a class="theme-text"
         matTooltip="Create a new query"
         matTooltipShowDelay="1000"
         routerLink="../../../query/new">
        {{(counts.items | async) || '...'}} Issues and pull requests
      </a>

      <type-actions type="items"></type-actions>
    </div>
  </div>

  <div class="type theme-border theme-background-card">
    <div class="type-title">
      {{(counts.labels | async) || '...'}} labels

      <type-actions type="labels"></type-actions>
    </div>

    <label-list [labelIds]="(repoLabels | async) || []"></label-list>
  </div>

  <div class="type theme-border theme-background-card">
    <div class="type-title">
      {{(counts.contributors | async) || '...'}} Contributors

      <type-actions type="contributors"></type-actions>
    </div>
  </div>

  <button (click)="remove()" *ngIf="(isEmpty | async) === false" class="remove"
          color="warn" mat-stroked-button>
    Remove locally stored data
  </button>
</ng-container>
